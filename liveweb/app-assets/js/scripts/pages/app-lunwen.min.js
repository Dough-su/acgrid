$((function(){"use strict";var a=$(".invoice-list-table"),t="../../../app-assets/",e="app-invoice-preview.html",n="app-invoice-add.html",s="app-edit.html";if("laravel"===$("body").attr("data-framework")&&(t=$("body").attr("data-asset-path"),e=t+"app/invoice/preview",n=t+"app/invoice/add",s=t+"app/invoice/edit"),a.length)a.DataTable({ajax:t+"data/invoice-list.json",autoWidth:!1,columns:[{data:"code"},{data:"caogao"},{data:"time"},{data:"name"},{data:"rank"},{data:"username"},{data:"caogao"}],columnDefs:[{className:"control",responsivePriority:2,targets:0},{targets:1,width:"46px",render:function(a,t,n,s){var o=n.code;return'<a class="fw-bold" href="'+e+'"> #'+o+"</a>"}},{targets:2,width:"42px",render:function(a,t,e,n){var s=e.caogao,o=e.due_date,i={Sent:{class:"bg-light-secondary",icon:"send"},Paid:{class:"bg-light-success",icon:"check-circle"},Draft:{class:"bg-light-primary",icon:"save"},Downloaded:{class:"bg-light-info",icon:"arrow-down-circle"},"Past Due":{class:"bg-light-danger",icon:"info"},"Partial Payment":{class:"bg-light-warning",icon:"pie-chart"}};return"<span data-bs-toggle='tooltip' data-bs-html='true' title='<span>"+s+'<br> <span class="fw-bold">username:</span> '+e.username+'<br> <span class="fw-bold">Due Date:</span> '+o+"</span>'><div class=\"avatar avatar-status "+i[s].class+'"><span class="avatar-content">'+feather.icons[i[s].icon].toSvg({class:"avatar-icon"})+"</span></div></span>"}},{targets:3,responsivePriority:4,width:"270px",render:function(a,e,n,s){var o=n.name,i=n.email,r=n.avatar,l=["success","danger","warning","info","primary","secondary"][Math.floor(6*Math.random())],d=(o=n.name).match(/\b\w/g)||[];if(d=((d.shift()||"")+(d.pop()||"")).toUpperCase(),r)var c='<img  src="'+t+"images/avatars/"+r+'" alt="Avatar" width="32" height="32">';else c='<div class="avatar-content">'+d+"</div>";return'<div class="d-flex justify-content-left align-items-center"><div class="avatar-wrapper"><div class="avatar'+(""===r?" bg-light-"+l+" ":" ")+'me-50">'+c+'</div></div><div class="d-flex flex-column"><h6 class="user-name text-truncate mb-0">'+o+'</h6><small class="text-truncate text-muted">'+i+"</small></div></div>"}},{targets:4,width:"73px",render:function(a,t,e,n){var s=e.rank;return'<span class="d-none">'+s+"</span>$"+s}},{targets:5,width:"130px",render:function(a,t,e,n){var s=new Date(e.due_date);return'<span class="d-none">'+moment(s).format("YYYYMMDD")+"</span>"+moment(s).format("DD MMM YYYY")}},{targets:6,width:"98px",render:function(a,t,e,n){var s=e.username;if(0===s){return'<span class="badge rounded-pill badge-light-success" text-capitalized> Paid </span>'}return'<span class="d-none">'+s+"</span>"+s}},{targets:7,visible:!1},{targets:-1,title:"Actions",width:"80px",orderable:!1,render:function(a,t,n,o){return'<div class="d-flex align-items-center col-actions"><a class="me-1" href="#" data-bs-toggle="tooltip" data-bs-placement="top" title="Send Mail">'+feather.icons.send.toSvg({class:"font-medium-2 text-body"})+'</a><a class="me-25" href="'+e+'" data-bs-toggle="tooltip" data-bs-placement="top" title="Preview Invoice">'+feather.icons.eye.toSvg({class:"font-medium-2 text-body"})+'</a><div class="dropdown"><a class="btn btn-sm btn-icon dropdown-toggle hide-arrow" data-bs-toggle="dropdown">'+feather.icons["more-vertical"].toSvg({class:"font-medium-2 text-body"})+'</a><div class="dropdown-menu dropdown-menu-end"><a href="#" class="dropdown-item">'+feather.icons.download.toSvg({class:"font-small-4 me-50"})+'Download</a><a href="'+s+'" class="dropdown-item">'+feather.icons.edit.toSvg({class:"font-small-4 me-50"})+'Edit</a><a href="#" class="dropdown-item">'+feather.icons.trash.toSvg({class:"font-small-4 me-50"})+'Delete</a><a href="#" class="dropdown-item">'+feather.icons.copy.toSvg({class:"font-small-4 me-50"})+"Duplicate</a></div></div></div>"}}],order:[[1,"desc"]],dom:'<"row d-flex justify-content-between align-items-center m-1"<"col-lg-6 d-flex align-items-center"l<"dt-action-buttons text-xl-end text-lg-start text-lg-end text-start "B>><"col-lg-6 d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap pe-lg-1 p-0"f<"caogao ms-sm-2">>>t<"d-flex justify-content-between mx-2 row"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',language:{sLengthMenu:"Show _MENU_",search:"Search",searchPlaceholder:"Search Invoice",paginate:{previous:"&nbsp;",next:"&nbsp;"}},buttons:[{text:"Add Record",className:"btn btn-primary btn-add-record ms-2",action:function(a,t,e,s){window.location=n}}],responsive:{details:{display:$.fn.dataTable.Responsive.display.modal({header:function(a){return"Details of "+a.data().name}}),type:"column",renderer:function(a,t,e){var n=$.map(e,(function(a,t){return 2!==a.columnIndex?'<tr data-dt-row="'+a.rowIdx+'" data-dt-column="'+a.columnIndex+'"><td>'+a.title+":</td> <td>"+a.data+"</td></tr>":""})).join("");return!!n&&$('<table class="table"/>').append("<tbody>"+n+"</tbody>")}}},initComplete:function(){$(document).find('[data-bs-toggle="tooltip"]').tooltip(),this.api().columns(7).every((function(){var a=this,t=$('<select id="UserRole" class="form-select ms-50 text-capitalize"><option value=""> Select Status </option></select>').appendTo(".caogao").on("change",(function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());a.search(t?"^"+t+"$":"",!0,!1).draw()}));a.data().unique().sort().each((function(a,e){t.append('<option value="'+a+'" class="text-capitalize">'+a+"</option>")}))}))},drawCallback:function(){$(document).find('[data-bs-toggle="tooltip"]').tooltip()}})}));